KeysFile = testfiles/bbackupd.keys

DataDirectory = testfiles/bbackupd-data

StorageBackend = s3

S3Store
{
	HostName = localhost
	S3VirtualHostName = testing.s3.amazonaws.com

	# The S3Simulator requires us to send the correct endpoint (via the Host header) to
	# distinguish between S3 and SimpleDB requests, so we cannot leave it at the default,
	# empty value. It must be set to exactly this value for SimpleDB requests:
	SimpleDBEndpoint = sdb.localhost
	SimpleDBHostName = localhost
	SimpleDBPort = 22080

	Port = 22080
	BasePath = /subdir/
	AccessKey = 0PN5J17HBGZHT7JJ3X82
	SecretKey = uV3F3YluFJax1cknvbcGwgjvx4QpvB+leU8dUj2o
	CacheDirectory = testfiles/bbackupd-cache
}

UpdateStoreInterval = 3
BackupErrorDelay = 10
MinimumFileAge = 4
MaxUploadWait = 7
DeleteRedundantLocationsAfter = 10

FileTrackingSizeThreshold = 1024
DiffingUploadSizeThreshold = 1024

MaximumDiffingTime = 3
KeepAliveTime = 1

ExtendedLogging = no
ExtendedLogFile = testfiles/bbackupd.log
# LogAllFileAccess = yes

CommandSocket = testfiles/bbackupd.sock

NotifyScript    = @TARGET_PERL@ testfiles/notifyscript.pl
SyncAllowScript = @TARGET_PERL@ testfiles/syncallowscript.pl

Server
{
	PidFile = testfiles/bbackupd.pid
}

BackupLocations
{
	Test1
	{
		Path = testfiles/TestDir1

		ExcludeFile = testfiles/TestDir1/excluded_1
		ExcludeFile = testfiles/TestDir1/excluded_2
		ExcludeFilesRegex = \.excludethis$
		ExcludeFilesRegex = EXCLUDE
		AlwaysIncludeFile = testfiles/TestDir1/dont.excludethis
		ExcludeDir = testfiles/TestDir1/exclude_dir
		ExcludeDir = testfiles/TestDir1/exclude_dir_2
		ExcludeDirsRegex = not_this_dir
		AlwaysIncludeDirsRegex = ALWAYSINCLUDE
	}
}

