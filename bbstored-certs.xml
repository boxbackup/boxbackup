<?xml version="1.0" encoding="UTF-8"?>
<refentry>
  <refmeta>
    <refentrytitle>bbstored-certs</refentrytitle>

    <manvolnum>8</manvolnum>
  </refmeta>

  <refnamediv>
    <refname>bbstored-certs</refname>

    <refpurpose>Manage certificates for the Box Backup system</refpurpose>
  </refnamediv>

  <refsynopsisdiv>
    <cmdsynopsis>
      <command>bbstored-certs &lt;certs-dir&gt; &lt;command&gt;
      [&lt;arguments&gt;]</command>
    </cmdsynopsis>
  </refsynopsisdiv>

  <refsection>
    <title>Description</title>

    <para><literal>bbstored-certs</literal> creates and signs certificates for
    use in Box Backup. It allows the user to create and sign the server keys,
    as well as signing client keys.</para>

    <para>All commands must be followed by the <literal>certs-dir</literal>,
    which is the directory in which the certificates are stored.</para>

    <refsection>
      <title>Commands</title>

      <para>There are 3 commands:</para>

      <itemizedlist>
        <listitem>
          <para><literal>init</literal>: Create the
          <literal>certs-dir</literal>, and generate the server keys for
          bbstored. <literal>certs-dir</literal> cannot exist before running
          the command.</para>
        </listitem>

        <listitem>
          <para><literal>sign-server &lt;servercsrfile&gt;</literal>: Sign the
          server certificate. The <literal>servercsrfile</literal> is the file
          generated by the <literal>init</literal> command.</para>
        </listitem>

        <listitem>
          <para><literal>sign &lt;clientcsrfile&gt;</literal>: Sign a client
          certificate. The <literal>clientcsrfile</literal> is generated
          during client setup. See <literal>bbackupd-config(8)</literal>. Send
          the signed certificate back to the client, and install according to
          the instructions given by <literal>bbackupd-config</literal>.</para>
        </listitem>
      </itemizedlist>
    </refsection>
  </refsection>

  <refsection>
    <title>Author</title>

    <para>Ben Summers and contributors. For help, please go to the <ulink
    url="http://www.boxbackup.org/trac/">Wiki</ulink>, or subscribe to the Box
    Backup <ulink
    url="http://lists.warhead.org.uk/mailman/listinfo/boxbackup">mailing
    list.</ulink></para>
  </refsection>

  <refsection>
    <title>See Also</title>

    <para><literal>bbstored-config(8)</literal></para>

    <para><literal>bbstored.conf(5)</literal></para>

    <para><literal>bbstoreaccounts(8)</literal></para>
  </refsection>

  <refsection>
    <title>Files</title>

    <para><literal>raidfile-config</literal> generates the raidfile.conf(5)
    file.</para>
  </refsection>

  <refsection>
    <title>Bugs</title>

    <para>If you find a bug in Box Backup, and you want to let us know about
    it, join the <ulink
    url="http://lists.warhead.org.uk/mailman/listinfo/boxbackup">mailing
    list</ulink>, and send a description of the problem there.</para>

    <para>To report a bug, give us at least the following information:</para>

    <itemizedlist>
      <listitem>
        <para>The version of Box Backup you are running</para>
      </listitem>

      <listitem>
        <para>The platform you are running on (hardware and OS), for both
        client and server.</para>
      </listitem>

      <listitem>
        <para>If possible attach your config files (bbstored.conf,
        bbackupd.conf) to the bug report.</para>
      </listitem>

      <listitem>
        <para>Also attach any log file output that helps shed light on the
        problem you are seeing.</para>
      </listitem>

      <listitem>
        <para>And last but certainly not least, a description of what you are
        seeing, in as much detail as possible.</para>
      </listitem>
    </itemizedlist>
  </refsection>
</refentry>
